@Library_Api_HostAddress = http://localhost:5090

### Create a book
POST {{Library_Api_HostAddress}}/api/Book
Content-Type: application/json

{
  "title": "Integration Test Book",
  "author": "Test Author",
  "copiesAvailable": 3
}

### Create a user
POST {{Library_Api_HostAddress}}/api/User
Content-Type: application/json

{
  "name": "Integration Test User",
  "email": "integrationuser@example.com"
}

### Get all books (find the created book's ID)
GET {{Library_Api_HostAddress}}/api/Book

### Get all users (find the created user's ID)
GET {{Library_Api_HostAddress}}/api/User

### Create a loan (replace bookId and userId with actual IDs from above)
POST {{Library_Api_HostAddress}}/api/Loan
Content-Type: application/json

{
  "bookId": 3,
  "userId": 3,
  "loanDate": "2024-06-01T00:00:00Z",
  "returnDate": null
}

### Check book copies after loan creation
GET {{Library_Api_HostAddress}}/api/Book/3

### Get all loans (find the created loan's ID)
GET {{Library_Api_HostAddress}}/api/Loan

### Get the created loan by ID
GET {{Library_Api_HostAddress}}/api/Loan/2

### Return the loan (custom action)
POST {{Library_Api_HostAddress}}/api/Loan/2/return

### Get the updated loan (should have returnDate set)
GET {{Library_Api_HostAddress}}/api/Loan/2

### Check book copies after loan return
GET {{Library_Api_HostAddress}}/api/Book/3

### Update the book
PUT {{Library_Api_HostAddress}}/api/Book/3
Content-Type: application/json

{
  "id": 3,
  "title": "Integration Test Book Updated",
  "author": "Test Author Updated",
  "copiesAvailable": 2
}

### Update the user
PUT {{Library_Api_HostAddress}}/api/User/3
Content-Type: application/json

{
  "id": 3,
  "name": "Integration Test User Updated",
  "email": "integrationuserupdated@example.com"
}

### Delete the loan
DELETE {{Library_Api_HostAddress}}/api/Loan/2

### Try to get the deleted loan (should return 404)
GET {{Library_Api_HostAddress}}/api/Loan/1

### Delete the book
DELETE {{Library_Api_HostAddress}}/api/Book/3

### Delete the user
DELETE {{Library_Api_HostAddress}}/api/User/3